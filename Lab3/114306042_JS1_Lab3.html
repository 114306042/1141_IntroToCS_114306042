<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 3 Number Guessing Game</title>
    <style>
        body { font-family: sans-serif; text-align: center; margin-top: 50px; }
        img { max-width: 300px; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>StudentID_Number Guessing Game</h1>
    
    <div id="image"></div>

    <script>

        var answer = Math.floor(Math.random() * 100) + 1;

        var chances = 7;
        var min = 1;
        var max = 100;
        var isWin = false;


        while (chances > 0) {
  
            var input = window.prompt(`請輸入 ${min} 到 ${max} 之間的整數。\n你還有 ${chances} 次機會。`);


            if (input === null) {
                break; 
            }

            var guess = Number(input.trim());

            if (input.trim() === "" || isNaN(guess) || guess < min || guess > max) {

                alert("請輸入有效範圍內的數字(不能超出" + min + "到" + max + ")!");
                continue; 
            }

            if (guess === answer) {

                alert("恭喜你答對了! 正確答案是 " + answer);
          
                document.getElementById("image").innerHTML = '<img src="images/correct.jpg" alt="correct">';
                isWin = true;
                break;
            } else {
    
                chances--;
                
                if (chances > 0) {
        
                    if (guess > answer) {
                        max = guess - 1;
                    } else {
                        min = guess + 1;
                    }
                }
            }
        }

        if (!isWin && chances === 0) {
            alert("遊戲結束！正確答案是 " + answer);
            document.getElementById("image").innerHTML = '<img src="images/wrong.jpg" alt="wrong">';
        }
    </script>
</body>

</html>
